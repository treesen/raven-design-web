
import { Meta, Story, ArgsTable, Canvas } from '@storybook/addon-docs';
import Icons from "../components/icon/index.ts";
import Icon from "../components/icon/icon.vue";

<Meta title="stories/icon"/>

export const Template = (args, { argTypes }) => ({
  props: Object.keys(argTypes),
  components: { Icon },
  data() {
    return {
      Icons,
      search: ''
    }
  },
  template: `<div>
      <input v-model="search" placeholder="Search"/>
      <div class="component-wapper">
       <div v-for="(icon, name) in filteredIcons" :key="name" class="h-item">
        <Icon :icon="name" style="height:36px;width:36px"/>
        <div style="font-size:10px">{{name}}</div>
       </div>
      </div>
  </div>
  `,
  computed: {
    filteredIcons() {
      if (!this.search.trim()) {
        return this.Icons
      }
      const icons = {}
      for (const name in this.Icons) {
        if (Object.prototype.hasOwnProperty.call(this.Icons, name)) {
          const icon = this.Icons[name];
          if (name.toLowerCase().indexOf(this.search.toLowerCase()) > -1) {
            icons[name] = icon
          }
        }
      }
      return icons
    }
  },
});

# ICON

<Canvas>
  <Story
    name="all"
    parameters={{
      layout: "padded",
    }}
   >
    {Template.bind({})}
  </Story>
</Canvas>